<div class="like">
  <% if topic.favor?(current_user) %>
    <%= form_with(model: topic.likes.find_by(user_id: current_user.id), html: {method: :delete}) do |f| %>
      <button type="submit" class="btn btn-light btn-sm">
        <i class="fas fa-heart fa-red"></i>
        <%= topic.likes_count %>
      </button>
      <% end %>
  <% else %>
    <%= form_with(model: topic.likes.new) do |f| %>
      <div><%= hidden_field_tag :topic_id, topic.id %></div>
        <button type="submit" class="btn btn-light btn-sm">
          <i class="far fa-heart"></i>
          <%= topic.likes_count %>
        </button>
      <% end %>
  <% end %>
</div>